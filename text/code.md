#ブラウザとHTMLコード

ブラウザとソースコードの関係を中心のお話し。

-  ブラウザとユーザーエージェント  
ブラウザとはなにか？制作者で知っておきたい使い方。
- HTMLのソースコードとその確認のしかた。

## ブラウザとユーザーエージェント

ブラウザとはなにか？制作者で知っておきたい使い方を確認しておきましょう。
**ユーザーエージェントのとある種類のアプリケーションがwebブラウザです。*

### ユーザーエージェント（UA）とは
><cite>[ユーザーエージェント ](https://ja.wikipedia.org/wiki/%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%A8%E3%83%BC%E3%82%B8%E3%82%A7%E3%83%B3%E3%83%88)</cite>

>ウエブブラウザを含めHTTPを用いてWorld Wide Web（インターネット）にアクセスする、ウェブブラウザなどのソフトウェアのこと。

<dl>
<dt><abbr title="Hypertext Transfer Protocol">HTTP</abbr></dt>
<dd>
[「Hypertext Transfer Protocol」](https://ja.wikipedia.org/wiki/Hypertext_Transfer_Protocol)

ハイパーテキストトランスファープロトコル。 
>（ハイパーテキスト・トランスファー・プロトコル、略称 HTTP）とは、HTMLなどのコンテンツの送受信に用いられる通信プロトコルである。主としてWorld Wide Webにおいて、WebブラウザとWebサーバとの間での転送に用いられる。日本標準仕様書ではハイパテキスト転送プロトコルとも呼ばれる。(以下略)

>名前の通り、 HTML (HyperText Markup Language) や XML (Extensible Markup Language) によって記述されたハイパーテキストの転送を主な目的としているが、それ以外にも、バイナリ形式の画像、音声を含め、様々なデータを扱うことが可能である。その汎用性からセンサーからの定期的なデータの取得などにも用いられる。

>トランスポート・プロトコルとして通常TCPを使用する。

>HTTPはリクエスト-レスポンス型のプロトコルであり、クライアントがサーバにリクエストメッセージを送信する。 基本的な考え方は非常に単純で、「何を」「どうして」欲しいのかを伝える。URLが「何を」、メソッドが「どうして」に当たる。 サーバはこれにレスポンスメッセージを返し、基本的にこの時点で初期状態に戻る。つまり、サーバはクライアントの状態を保存しない。

>World Wide WebにおけるWebページなどのリソースは、Uniform Resource Identifierによって指定される。HTTP を使用してリソースにアクセスするときは、http: が先頭についた URL を使用する。下にURL の例を挙げる。
`http://www.example.co.jp/~test/samples/index.html`

<cite>Hypertext Transfer Protocol - Wikipedia</cite>

</dd>
</dl>
<dl>
<dt>HTTPユーザーエージェント</dt>
<dd>
>HTTPを用いてリソースの取得等を行うユーザーエージェントをHTTPユーザーエージェントと呼ぶ。
HTTPユーザーエージェントには、ウェブブラウザや、リソースを自動的に処理するクローラなどがある。
</dd>
</dl>
**一般的なウェブブラウザはHTTPユーザーエージェントになります。**

##### HTTPユーザーエージェントでないUA
主にみなさんがPCでつかうもの
- FTPクライアントソフト
- Emailソフト



## ウェブブラウザ
制作は実際のブラウザを使います。

### pc
- [googleChrome](https://www.google.co.jp/chrome/?brand=CHBD&gclid=CjwKCAjw8qjnBRA-EiwAaNvhwFFWuMfu63Q2H25Jgd_v2oY8PHhA0B9XNZLZvCSZrnYGKCNJFIoJ1RoCoC0QAvD_BwE&gclsrc=aw.ds)
対応OS：OSX windows 

- [firefox]（https://www.mozilla.org/ja/firefox/new/）
対応OS：OSX windows 

- OS付属のブラウザ 
safari:OSX 
Edge:windews
ホームページ（起動時の表示）がひどさをきにしなければOK
確認作業以外つかいません。

### SP(スマートフォン)タブレットPC

IOS :IOSsafari 機種のバージョンによる。
android : android ブラウザー 機種のバージョンメーカ-による。

#####  SP市場重視の場合
入力が正しくできるか表示は正しいかを確認するため機種をかなりそろえなければならないメーカーもある。（作業工数も増える）
HP制作などの会社は多くの検証機種を持ち合わせていないので最新のブラウザで無理なく稼働すればOKになる。その分制作費は比較的安い

#### ブラウザの知っとけ機能



- [Chrome のキーボード ショートカット](https://support.google.com/chrome/answer/157179?hl=ja)
- [Firefox のキーボードショートカット](https://support.mozilla.org/ja/kb/keyboard-shortcuts-perform-firefox-tasks-quickly)


ショートカットキーはwindows基準で記述しています。

ctrlキーは windows
commandキーはMac OSX

|機能|ショートカットキー|概要|
|:--|--|--|
|ページの読み直し（キャッシュクリアー）|<kbd>F-5</kbd> , <kbd>ctrl</kbd>+<kbd>r</kbd>|ページを読み直す|
|ページのデータすべての読み直し（スーパーキャッシュクリアー）| <kbd>ctrl</kbd>+<kbd>shift</kbd>+<kbd>r</kbd>|キャッシュデータも含めすべて読み直す|
|検索| <kbd>ctrl</kbd>+<kbd>f</kbd>|ページの中の文字列の検索|
|ページの保存|<kbd>ctrl</kbd>+<kbd>s</kbd>|任意のフォルダーにページをコピーする|
|ページの保存|<kbd>ctrl+p|印刷する　印刷プレビューを見る|
|シークレットレットモードでみる|<kbd>ctrl</kbd>+<kbd>shift</kbd>+<kbd>n</kbd>|閲覧履歴を残さないUA情報を送信しない|
|ページソースを見る|<kbd>ctrl</kbd>+<kbd>u</kbd>|閲覧中のページのHTMLソースコードをみる|
|ページの検証モード|<kbd>ctrl</kbd>+<kbd>shift</kbd>+<kbd>i</kbd>|閲覧中のページの詳細なDOM情報をみる。|

*（OSXは「ctrl」は「command」で入力）

###### ポイント
- 安全につかうために最新のものをつかいましょう。
- コマーシャルを考えなえればOSに付属のものでもOK


----


## HTML　ソースコードとその確認のしかた。 

これから学習するのはHTMLソースコードの読み書きです。後ほどDOMなどもでてきて少し混乱しますが・・・あくまでサーバーに上げるHTMLコードを大切です。

HTMLコードをブラウザが読み取ってどのような流れで表示するかとサーバーからうけっとったHTMLソースコードの読み取り方を確認しまよう。

### ソースコードを見る。

- webページのソースコードは画面上でマウスを右クリックし。コンテキストメニューから「ソースを表示」や「ソースコードを見る」などで表示されます。

- ショートカットキー<kbd>ctrl</kbd>+　<kbd>U</kbd>でもみれます。

### ブラウザの描画の仕組み
![ブラウザの右上側（chrome）](images/braleft.PNG)  
*「くるくる（仮称）」とは更新するときの押すアドレスバーの横の丸い矢印マークのことです。



1. ページリクエスト
2. HTMLファイルの受信->受信したファイルがソースコード
3. 受信中のHTMLファイルから順次リソースをリクエスト
4. リソースを元にDOMに変換しはじめる。
5. ウィンドウ領域に表示（描画し始める）（くるくるしてる。）
6. すべてのリソースが揃い描画が終わると（くるくるがとまる。）

*「くるくる（仮称）」とは更新するときの押すアドレスバーの横の丸い矢印マークのことです。


### ソースコードを読む。

ソースコードと検証で表示される内容は違う。
マークアップエンジニアはローカルに送信するソースコードを作成している。

firefoxでのソースコード検証

簡単なソースコードのバリデーション検証はW3Cバリデーターを使わずともfirefoxブラウザのソースコードの表示で確認できる。

エラーの恐れがあったり非推奨のタグを使っている場合、赤字で表示してくれる。
英語でのアシストだがマウスをホバーするとエラーの理由などもおしえてくれる。


#### FireFox間違ったソースコードで確認してみましょう。
FireFoxで開いてソースコードを確認していみましょう。

- 任意のテキストエディターを開き。
- 新規でHTMLファイルを作る。
- 下のコードをコピーしてペーストして適当な名前で保存します。「errer.html」拡張子は「.html」でお願いします。
- 保存場所はすぐに捨てれるデスクトップに保存すればいいでしょう。
- アイコンを右クリックして-> アプリケーションで保存-> fireFoxで見る
- firefoxで開いたら。　マウスでブラウザのウィンドウを右クリック ソースコードを見る。

##### 間違ったコード例

```
<!DOCTYPE html>
<html>
 <head>
 <meta charset="UTF-8">
 <title>般若心経</title>
 </head>
 <body>
 <div>
  観自在菩薩　行深般若波羅蜜多時　照見五蘊皆空

度一切苦厄　舎利子　色不異空　空不異色　色即是空　空即是色
 </body>
</html>


```

##### 表示結果

![般若心経](images/Errer_html.PNG)

div要素の終了タグをわざとかかなかった。fierfoxでのエラーメッセージは「body要素がここでおわってるけど終わってない要素があるよ。」とメッセージしてくれている。

##### エラーの表示には癖がある。
　かならずしも間違った場所ではなくその直後にエラーがでたりする。
HTMLのルールを理解していくとでエラーの理由なども推測できるようになる。